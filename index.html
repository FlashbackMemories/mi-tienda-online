<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flashback Memories</title>
  <style>
    :root {
      --primary: #4a2c2a;
      --secondary: #e0d8c4;
      --radius-sm: 8px;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #fdfbf7;
      color: #333;
    }

    /* Header */
    header {
      position: relative;
      width: 100%;
      height: 60vh;
      overflow: hidden;
    }

    header .hero-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .social-links {
      position: absolute;
      top: 15px;
      right: 20px;
      background: rgba(0,0,0,0.5);
      padding: 8px 15px;
      border-radius: 8px;
    }

    .social-links a {
      color: #fff;
      margin: 0 8px;
      text-decoration: none;
      font-weight: 500;
    }
    .social-links a:hover { color: #e0d8c4; }

    /* Productos */
    section {
      padding: 20px;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }

    .product {
      background: #fff;
      border-radius: var(--radius-sm);
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }

    .product h3 {
      margin: 10px 0;
    }

    .product button {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    .product button:hover { background: #6b403d; }

    /* Carrusel */
    .carousel {
      position: relative;
      width: 100%;
      overflow: hidden;
      border-radius: var(--radius-sm);
      margin-bottom: 1rem;
    }

    .carousel-images {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .carousel-images img {
      width: 100%;
      border-radius: var(--radius-sm);
      flex-shrink: 0;
    }

    .carousel button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      border: none;
      color: #fff;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 18px;
      border-radius: 50%;
    }

    .carousel .prev { left: 10px; }
    .carousel .next { right: 10px; }

    /* Carrito */
    #cart {
      background: #fff;
      padding: 20px;
      margin: 20px;
      border-radius: var(--radius-sm);
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <img src="imagen1.jpg" alt="Logo Flashback Memories" class="hero-img">
    <div class="social-links">
      <a href="https://wa.me/542494515397" target="_blank" rel="noopener">WhatsApp</a>
      <a href="https://www.instagram.com/flashbackk_memories" target="_blank" rel="noopener">Instagram</a>
    </div>
  </header>

  <!-- PRODUCTOS -->
  <section id="productos">
    <h2>Productos</h2>
    <div class="products">

      <!-- Producto 1 -->
      <div class="product">
        <div class="carousel">
          <div class="carousel-images">
            <img src="img/producto1a.jpg" alt="Photorroll foto 1">
            <img src="img/producto1b.jpg" alt="Photorroll foto 2">
            <img src="img/producto1c.jpg" alt="Photorroll foto 3">
          </div>
          <button class="prev" onclick="moveSlide(this, -1)">❮</button>
          <button class="next" onclick="moveSlide(this, 1)">❯</button>
        </div>
        <h3>Photorroll</h3>
        <p>$8.000</p>
        <button onclick="addToCart('Photorroll', 8000)">Agregar al carrito</button>
      </div>

      <!-- Producto 2 -->
      <div class="product">
        <div class="carousel">
          <div class="carousel-images">
            <img src="img/producto2a.jpg" alt="Mini book foto 1">
            <img src="img/producto2b.jpg" alt="Mini book foto 2">
          </div>
          <button class="prev" onclick="moveSlide(this, -1)">❮</button>
          <button class="next" onclick="moveSlide(this, 1)">❯</button>
        </div>
        <h3>Mini Book</h3>
        <p>$12.000</p>
        <button onclick="addToCart('Mini Book', 12000)">Agregar al carrito</button>
      </div>

      <!-- Producto 3 -->
      <div class="product">
        <div class="carousel">
          <div class="carousel-images">
            <img src="img/producto3a.jpg" alt="Agenda foto 1">
            <img src="img/producto3b.jpg" alt="Agenda foto 2">
            <img src="img/producto3c.jpg" alt="Agenda foto 3">
          </div>
          <button class="prev" onclick="moveSlide(this, -1)">❮</button>
          <button class="next" onclick="moveSlide(this, 1)">❯</button>
        </div>
        <h3>Agenda Semanal</h3>
        <p>$20.000</p>
        <button onclick="addToCart('Agenda Semanal', 20000)">Agregar al carrito</button>
      </div>

    </div>
  </section>

  <!-- AGENDA PERSONALIZABLE -->
  <section id="agenda">
    <h2>Crea tu propia agenda</h2>
    <p style="color:red; font-weight:bold;">
      ⚠ ATENCIÓN: Si la agenda es <u>DIARIA</u>, el precio es mayor que la semanal.
    </p>

    <form class="custom-agenda" onsubmit="createAgenda(event)">
      <label>Sistema:
        <select id="sistema" onchange="updatePreview()">
          <option value="Discos">Discos</option>
          <option value="Doble alambre">Doble alambre</option>
        </select>
      </label>

      <label>Agenda:
        <select id="tipoAgenda" onchange="updatePreview()">
          <option value="Diaria">Diaria</option>
          <option value="Semanal">Semanal</option>
        </select>
      </label>

      <div id="alerta-diaria" style="display:none; color:red; font-weight:bold; margin-bottom:10px;">
        ⚠️ ATENCIÓN: Las agendas diarias tienen un costo adicional de $3000.
      </div>

      <label>Horarios:
        <select id="horarios" onchange="updatePreview()">
          <option value="Con">Con</option>
          <option value="Sin">Sin</option>
        </select>
      </label>

      <label>Estilo:
        <select id="estilo" onchange="updatePreview()">
          <option value="Formal">Formal</option>
          <option value="Informal">Informal</option>
        </select>
      </label>

      <label>Color de hojas:
        <select id="colorHojas" onchange="updatePreview()">
          <option value="Blancas">Blancas</option>
          <option value="Bio">Bio</option>
        </select>
      </label>

      <label><input type="checkbox" id="esquineros" onchange="updatePreview()"> Esquineros (+$1000)</label>
      <label><input type="checkbox" id="hojasEstudiante" onchange="updatePreview()"> Hojas estudiante (+$2000)</label>
      <label><input type="checkbox" id="hojasDocente" onchange="updatePreview()"> Hojas docente (+$2000)</label>
      <label><input type="checkbox" id="trackMenstrual" onchange="updatePreview()"> Track menstrual (+$500)</label>

      <button type="submit">Agregar agenda personalizada al carrito</button>

      <div class="preview" id="agenda-preview">
        <img id="agenda-img" src="https://via.placeholder.com/200x250/cccccc/000000?text=Agenda" alt="Vista previa de la agenda">
        <div id="agenda-desc">Precio base: $20000</div>
      </div>
    </form>
  </section>

  <!-- CARRITO -->
  <section id="cart">
    <h2>Carrito</h2>
    <ul id="cart-items"></ul>
    <p>Total: $<span id="cart-total">0</span></p>
    <button onclick="checkout()">Finalizar pedido</button>
  </section>

  <!-- SCRIPT -->
  <script>
    let cart = [];

    function addToCart(product, price) {
      cart.push({ product, price });
      renderCart();
      document.querySelector("#cart").scrollIntoView({ behavior: "smooth" });
    }

    function renderCart() {
      const itemsList = document.getElementById("cart-items");
      itemsList.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.product} - $${item.price}`;
        itemsList.appendChild(li);
        total += item.price;
      });
      document.getElementById("cart-total").textContent = total;
    }

    function checkout() {
      alert("Gracias por tu pedido. Nos pondremos en contacto.");
    }

    // Carrusel
    function moveSlide(button, direction) {
      const carousel = button.closest(".carousel");
      const images = carousel.querySelector(".carousel-images");
      const totalImages = images.children.length;
      let index = parseInt(carousel.dataset.index || "0");
      index = (index + direction + totalImages) % totalImages;
      carousel.dataset.index = index;
      images.style.transform = `translateX(${-index * 100}%)`;
    }

    // Agenda personalizada
    function createAgenda(event) {
      event.preventDefault();
      let price = 20000;
      let extras = [];

      const tipoAgenda = document.getElementById('tipoAgenda').value;
      if (tipoAgenda === "Diaria") {
        price += 3000;
      }

      if (document.getElementById('esquineros').checked) {
        price += 1000;
        extras.push("Esquineros (+$1000)");
      }
      if (document.getElementById('hojasEstudiante').checked) {
        price += 2000;
        extras.push("Hojas estudiante (+$2000)");
      }
      if (document.getElementById('hojasDocente').checked) {
        price += 2000;
        extras.push("Hojas docente (+$2000)");
      }
      if (document.getElementById('trackMenstrual').checked) {
        price += 500;
        extras.push("Track menstrual (+$500)");
      }

      const sistema    = document.getElementById('sistema').value;
      const horarios   = document.getElementById('horarios').value;
      const estilo     = document.getElementById('estilo').value;
      const colorHojas = document.getElementById('colorHojas').value;

      const detalles = `
      Sistema: ${sistema}
      Agenda: ${tipoAgenda}
      Horarios: ${horarios}
      Estilo: ${estilo}
      Color de hojas: ${colorHojas}
      Extras: ${extras.length > 0 ? extras.join(", ") : "Ninguno"}
      `;

      cart.push({ product: "Agenda Personalizada", price, detalles });
      renderCart();
      alert(`Agenda personalizada agregada al carrito por $${price}`);
      document.querySelector("#cart").scrollIntoView({ behavior: "smooth" });
    }

    function updatePreview() {
      let price = 20000;
      const tipoAgenda = document.getElementById('tipoAgenda').value;

      if (tipoAgenda === "Diaria") {
        price += 3000;
        document.getElementById('alerta-diaria').style.display = 'block';
      } else {
        document.getElementById('alerta-diaria').style.display = 'none';
      }

      if (document.getElementById('esquineros').checked) price += 1000;
      if (document.getElementById('hojasEstudiante').checked) price += 2000;
      if (document.getElementById('hojasDocente').checked) price += 2000;
      if (document.getElementById('trackMenstrual').checked) price += 500;

      document.getElementById('agenda-desc').textContent = `Precio actualizado: $${price}`;
    }
  </script>
</body>
</html>
